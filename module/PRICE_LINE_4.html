<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Structs Example</title>
		
		<style>
			#chart {
				border-top-left-radius: 0px;
				border-top-right-radius: 0px;
			}
		</style>
		<!-- <script type="module" crossorigin src="./rect_1.js"></script> -->
		<!-- <link rel="modulepreload" crossorigin href="./lwc.prod.js">
		<link rel="modulepreload" crossorigin href="./sample-data.js">
		<link rel="modulepreload" crossorigin href="./plugin-base.js">
		<link rel="modulepreload" crossorigin href="./positions.js"> -->
        <script src="./lwc_dev_deriv_4.2.js"></script>
		<link rel="stylesheet" href="./lwc.css">
	</head>
	<body style="background:black;">
		<div id="description">
			<h1 style="color:steelblue;">Structure Lines</h1>
			<p style="color:limegreen;">
				Longpress or Hover, to set struct lines.
			</p>
		</div>	
		<div id="chart"></div>
		<div id="lineEditor" style="border:solid 1px steelblue;visibility:hidden;
            position:absolute;z-index:11;
            background:darkslategrey;border-radius:13px;">
            <span>---</span><input type="color" value = "#003264"/>
            <span onclick="((event) => {
                event.target.parentElement.style.visibility = 'hidden'
            })(event)">x</span>
        </div>
    <!-- ***********DRAW CHART MODULE  -->
<script type="module">
    import {SetPriceLine_Class as SetPriceLine_Class} from "./SETPRICELINE_4.js";  
    import {g as getMockData} from "./sample-data.js";
    const priceChart = LightweightCharts.createChart("chart", { autoSize:!0, 
        layout: {textColor:'steelblue',background: { type: 'solid', color: '#000000' }},
        grid: { vertLines: { color: "#080808" }, horzLines: { color: "#080808" } },
        allowShiftVisibleRangeOnWhitespaceReplacement:!0
    })
    const priceSeries = priceChart.addLineSeries()
    const data = getMockData();
    priceSeries.setData(data);
    let structs = new SetPriceLine_Class(priceChart,priceSeries,{ color: "steelblue"});
    let line = priceSeries.createPriceLine({ price: 444, color: 'steelblue' })
    structs.setPricelines([{price: 444, line:line}])

</script>
</body>
</html>